var app=angular.module("app",["dqmslFilters","dqmslDirectives"]);app.controller("MainCtrl",["$scope","$http","$q",function(e,t,r){function s(e){var n,a,o,t=/[0-9a-zA-Z_-]{44}/,r=/gid=[0-9]+/;return r.test(e)?(n=e.match(r)[0].replace("gid=",""),a="0"===n?"od6":n,o="https://spreadsheets.google.com/feeds/list/"+e.match(t)+"/"+a+"/public/values?alt=json"):void console.log("data sheet url format error")}var n="https://docs.google.com/spreadsheets/d/1t5RLFv4_-sETdjoPDLtxzne9f3LZ5oTJNNmIo-FvFNs/edit#gid=0",a="https://docs.google.com/spreadsheets/d/1OxnRYBphBg7SZwewlEOTspmtQgXryNlTbiqkOlEZVe8/edit#gid=0",o="https://docs.google.com/spreadsheets/d/1pRcgKOe3Hpz-06krzifsVXzkqy0Qt78AIsdc6pcIoJM/edit#gid=0",i="https://docs.google.com/spreadsheets/d/1EP04V81V3kNrvJPISTvJ17O2qBBb7rergNn_7nmjZrg/edit#gid=0",l=/gsx\$/;e.skill_query_result=[];var u=t.get(s(n)),c=t.get(s(a)),f=t.get(s(o)),d=t.get(s(i));r.all([u,c,f,d]).then(function(t){var r=[],n=[],a=[],o=[];angular.forEach(t[1].data.feed.entry,function(e){var n={};e["gsx$日文名稱"].$t&&e["gsx$中文名稱"].$t&&(n.jp=e["gsx$日文名稱"].$t,n.zh=e["gsx$中文名稱"].$t,r.push(n))}),angular.forEach(t[0].data.feed.entry,function(e){var r={};for(var n in e)if(l.test(n)){var o=n.replace(l,"");r[o]=e[n].$t}a.push(r)}),angular.forEach(t[2].data.feed.entry,function(e){var r={};for(var a in e)if(l.test(a)){var o=a.replace(l,"");r[o]=e[a].$t}n.push(r)}),angular.forEach(t[3].data.feed.entry,function(e){var r={};for(var n in e)if(l.test(n)){var a=n.replace(l,"");r[a]=e[n].$t}o.push(r)}),e.monster=a,e.translate=r,e.translate_mon=n,e.skill=o}),e.greaterThan=function(e,t){return function(r){return r[e]>=t}},e.querySkill=function(t){var r=$.grep(e.skill,function(e){return e["日文名稱"]===t});e.queryResult=r[0]},e.tooltipRemove=function(){e.toolTipLocation={display:"none"}},e.tooltipMove=function(t){var r=t.pageX+20,n=t.pageY+10;e.toolTipLocation={top:n,left:r,display:"block"}}}]);